// Power Rule - Assignment 6 (Mar.26.2025)
import java.util.Scanner;

public class PowerRule {
    public static void main(String[] args) throws Exception {
        Scanner keyboard = new Scanner(System.in);
        String firstDerivative = "f'(x) =";
        String secondDerivative = "f''(x) =";

        System.out.println("Please enter your coefficients, seperated by a space.");
        String coefficients = keyboard.nextLine();
        System.out.println("Please enter your exponents, seperated by a space.");
        String exponents = keyboard.nextLine();
        keyboard.close();

        String[] coeffs = coefficients.split(" ");
        String[] expos = exponents.split(" ");

        for (int i = 0; i < coeffs.length; i++) {
            double coefficient = Double.parseDouble(coeffs[i]);
            int exponent = Integer.parseInt(expos[i]);

            // first derivative
            if (coefficient > 0) {
                double firstCoeff = coefficient * exponent;
                int firstExpo = exponent - 1;
                firstDerivative += (firstCoeff > 0 ? "+" : "") + firstCoeff + "x^" + firstExpo + " ";
            }
            // second derivative
            if (coefficient > 0) {
                double secondCoeff = coefficient * exponent * (exponent - 1);
                int secondExpo = exponent - 2;
                secondDerivative += (secondCoeff > 0 ? "+" : "") + secondCoeff + "x^" + secondExpo + " ";
            }
        }
        System.out.println("Your first derivative is: " + firstDerivative);
        System.out.println("Your second derivative is: " + secondDerivative);
    }
}
